-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'f7b2a4afd3813fa7' HASH '6d39e266c4624dee094a1bb522132f87c1e7c43447e3ca41fdba1b23e5aa6028' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."DEPARTMENT"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "NAME" CHARACTER VARYING(50)
);    
ALTER TABLE "PUBLIC"."DEPARTMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");   
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTMENT;              
INSERT INTO "PUBLIC"."DEPARTMENT" VALUES
(1, 'HR'),
(2, 'Finance'),
(3, 'Engineering'),
(4, 'Marketing'); 
CREATE CACHED TABLE "PUBLIC"."EMPLOYEE_DEPARTMENT"(
    "EMPLOYEE_ID" INTEGER NOT NULL,
    "DEPARTMENT_ID" INTEGER NOT NULL
);            
ALTER TABLE "PUBLIC"."EMPLOYEE_DEPARTMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E" PRIMARY KEY("EMPLOYEE_ID", "DEPARTMENT_ID");
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.EMPLOYEE_DEPARTMENT;     
INSERT INTO "PUBLIC"."EMPLOYEE_DEPARTMENT" VALUES
(1, 1),
(2, 1),
(3, 2),
(3, 3),
(4, 3),
(5, 4);       
CREATE CACHED TABLE "PUBLIC"."EMPLOYEE"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "NAME" CHARACTER VARYING(50),
    "FAMILY_NAME" CHARACTER VARYING(50),
    "SALARY" DECIMAL(10, 2),
    "BIRTHDAY" DATE,
    "PARENT_ID" INTEGER
);              
ALTER TABLE "PUBLIC"."EMPLOYEE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");     
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.EMPLOYEE;
INSERT INTO "PUBLIC"."EMPLOYEE" VALUES
(1, 'Alice', 'Smith', 120.00, DATE '1990-05-15', NULL),
(2, 'Bob', 'Johnson', 80.00, DATE '1985-09-20', 1),
(3, 'Carol', 'Williams', 150.00, DATE '1978-01-05', 1),
(4, 'David', 'Brown', 200.00, DATE '1992-12-10', NULL),
(5, 'Eve', 'Davis', 90.00, DATE '1988-07-24', NULL);  
ALTER TABLE "PUBLIC"."EMPLOYEE_DEPARTMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E88" FOREIGN KEY("DEPARTMENT_ID") REFERENCES "PUBLIC"."DEPARTMENT"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."EMPLOYEE_DEPARTMENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_E8" FOREIGN KEY("EMPLOYEE_ID") REFERENCES "PUBLIC"."EMPLOYEE"("ID") NOCHECK;   
